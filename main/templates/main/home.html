{% extends 'base.html' %}
{% load static %}

{% block title %}Home{% endblock title %}

{% block css_files %}
<link rel="stylesheet" href="{% static 'main/home.css' %}">
{% endblock css_files %}

{% block content %}
<div class="container">
      



      <div class="popular-container">
            <div class="section-header">
			<span class="title-decor-line"></span>
                  <h3 class="section-title">Popular</h3>
                  <span class="title-decor-line"></span>
		</div>
             <div class="popular-cakes">
                  {% if popular_cakes %}
                        {% for cake in popular_cakes %}
                        <div class="popular-cake-card">
                            <a href="{% url 'cake_info' cake.slug %}" class="cake-image-container">
                                <img class="popular-cake-image" src="{{ cake.image.url }}" alt="{{ cake.name }}">
                                <div class="cake-name-overlay">{{ cake.name }}</div>
                            </a>
                            <div class="cake-description">
                                <p>{{ cake.short_description }}</p>
                          </div>
                          <div class="cake-price-container">
                            <p class="cake-price">Price: {{ cake.price }}€</p>
                            <a href="" class="order-button">Order Now</a>
                          </div>      
                        </div>
                        {% endfor %} 
                  {% endif %}
            </div>
      </div>

      <div class="search-bar-container">
           <form action="{% url 'search' %}" method="get" class="search-form">
                  <input type="text" name="query" placeholder="Search for cakes..." required class="search-input">      
                  <button type="submit" class="search-button">Search</button>
           </form> 
      </div>
</div>



    <div class="section-about">
      <span class="title-decor-line"></span>
      <h3 class="section-title">About me</h3>
      <span class="title-decor-line"></span>
    </div>
    <div class="about-container">
      <div class="about-content">
        <div class="content">
          <div class="text-content">
            <h1>Hi, Im Ekzana</h1>
            <div class="about-text">
              <p>Welcome to my cake shop! I am a passionate baker with a love for creating delicious and beautiful cakes. Each cake is made with the finest ingredients and a lot of love. Whether you're looking for a birthday cake, wedding cake, or just a treat for yourself, I have something for everyone. Thank you for visiting my shop!</p>
            </div>
            <div class="about-card">
              <a href="{% url 'about' %}" class="about-me">More About Me</a>
            </div>
          </div>
        </div>   
        <div class="about-image">
          <img src="{% static 'main/images/ekzana.jpg' %}" alt="About Me" class="about-me-image">
        </div>   
      </div>
    </div>

<div class="container">
      <div class="flavour-container">
            <div class="section-flavour">
                <span class="title-decor-line-flavour"></span>
                <h3 class="section-title">Flavours</h3>
                <span class="title-decor-line-flavour"></span>
            </div>
            <div class="flavour-flex-container">  <!-- Changed from flavour-grid -->
                {% for flavour in flavours %}
                    <a href="{% url 'cake_by_flavour' flavour.slug %}" class="flavour-button">
                        {{ flavour.flavour_name }}
                    </a>
                {% endfor %}
            </div>
        </div>

      <div class="latest-container">
            <div class="section-header">
			<span class="title-decor-line"></span>
                  <h3 class="section-title">Latest</h3>
                  <span class="title-decor-line"></span>
		</div>
             <div class="latest-cakes">
                  {% if latest_cakes %}
                        {% for cake in latest_cakes %}
                        <div class="latest-cake-card">
                            <a href="{% url 'cake_info' cake.slug %}" class="cake-image-container">
                                <img class="latest-cake-image" src="{{ cake.image.url }}" alt="{{ cake.name }}">
                                <div class="cake-name-overlay">{{ cake.name }}</div>
                            </a>
                            <div class="cake-description">
                                <p>{{ cake.short_description }}</p>
                          </div>
                          <div class="cake-price-container">
                            <p class="cake-price">Price: {{ cake.price }}€</p>
                            <a href="" class="order-button">Order Now</a>
                          </div>      
                        </div>
                        {% endfor %} 
                  {% endif %}
            </div>
      </div>
</div>
{% endblock content %}